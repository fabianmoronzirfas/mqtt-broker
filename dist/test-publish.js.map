{"version":3,"sources":["test-publish.js"],"names":[],"mappings":";;;;IAAY;;;;;;AAIZ,IAAI,SAAS,KAAK,OAAL,CAAa,qBAAb,EAAoC;AAC/C,YAAU,cAAV;CADW,CAAT;;AAIJ,OAAO,EAAP,CAAU,SAAV,EAAqB,YAAM;AACzB,UAAQ,GAAR,CAAY,uBAAZ;;;;;;AADyB,MAOrB,QAAQ,CAAR,CAPqB;AAQzB,MAAI,QAAQ,YAAY,YAAM;AAC5B,YAAQ,GAAR,CAAY,YAAZ,EAA0B,KAA1B,EAD4B;AAE5B,WAAO,OAAP,CAAe,QAAf,EAAyB,KAAK,SAAL,CAAe,KAAf,CAAzB,EAF4B;AAG5B,YAH4B;AAI5B,QAAI,UAAU,EAAV,EAAc;AAChB,oBAAc,KAAd,EADgB;AAEhB,cAAQ,IAAR,GAFgB;KAAlB;GAJsB,EAQrB,GARS,CAAR;;;;;AARqB,CAAN,CAArB","file":"test-publish.js","sourcesContent":["import * as mqtt from 'mqtt';\n\n// required when running on node.js\n\nvar client = mqtt.connect('mqtt:localhost:1883', {\n  clientId: 'node.publish'\n});\n\nclient.on('connect', () => {\n  console.log('client has connected!');\n\n  // via wildcard\n  // client.subscribe('/fabianmoronzirfas/*/*'); // specific\n  // client.subscribe('/helloword/#'); // all\n  // client.unsubscribe('/example');\n  let count = 0;\n  let timer = setInterval(() => {\n    console.log('publish %s', count);\n    client.publish('/hello', JSON.stringify(count));\n    count++;\n    if (count === 10) {\n      clearInterval(timer);\n      process.exit();\n    }\n  }, 500);\n// client.on('message', function(topic, message) {\n//   console.log('Received new message. Topic is \"%s\" message is \"%s\" ', topic, message.toString());\n//   client.publish('fabianmoronzirfas/beep', '1');\n// });\n});\n"],"sourceRoot":"/source/"}